<!DOCTYPE html>

<head>
	<meta charset='utf-8'>
	<link rel='stylesheet' href='index.css'>
</head>
<body>
	<script type='module' src='vendor/es-module-shims/es-module-shims.js'></script>
	<script type='importmap-shim'>
		{
			"imports": {
				"knockout": "vendor/knockout/knockout-latest.js",
				"@zoltu/ethereum-browser-sdk": "vendor/@zoltu/ethereum-browser-sdk/index.js",
				"@zoltu/ethereum-types": "vendor/@zoltu/ethereum-types/index.js"
			}
		}
	</script>

	<div class='loading' data-bind='visible: false'>
		Loading...
	</div>
	<main style='display: none' data-bind='visible: true'>
		<div data-bind='visible: providers().length === 0'>
			Looking for an Ethereum provider... do you have MetaMask installed?
		</div>
		<div data-bind='visible: providers().length >= 1'>
			<select data-bind='value: selectedProvider, options: providers(), optionsCaption: "Connect", optionsText: provider => provider.friendly_name'></select>
		</div>
		<div data-bind='if: selectedProvider()'>
			<img data-bind='attr: { src: `data:image/png;base64,${selectedProvider().friendly_icon}` }'></span>
		</div>
		<div data-bind='visible: signerAddress()'>
			<label>Address: </label><span data-bind='text: signerAddress()'></span>
		</div>
	</main>

	<script type='module-shim'>
		import 'knockout'
		import { Main } from './index.js'
		window.main = new Main()
		ko.applyBindings(window.main)
	</script>
</body>
